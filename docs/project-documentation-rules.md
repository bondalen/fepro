# Правила ведения проектной документации FEPRO

**Версия:** 1.0.0  
**Дата создания:** 2025-10-05  
**Последнее обновление:** 2025-10-05  
**Автор:** Александр  

## Обзор

Данный документ описывает структуру, правила и порядок ведения проектной документации для системы управления отношениями с контрагентами FEPRO. Документация разделена на три основных файла, каждый из которых выполняет свою специфическую функцию.

## Структура документации

### 1. **project-docs.json** - Проектная документация
**Назначение:** Центральный файл с описанием архитектуры, технологий, модулей и конфигурации проекта.

**Содержание:**
- Метаданные проекта
- Архитектурные решения
- Технологический стек
- Модули и их описание
- Схема базы данных
- Конфигурация развертывания
- Временные рамки и риски
- Ресурсы и команда

**Правила ведения:**
- Обновляется при изменении архитектуры
- Содержит ссылки на ADR (Architectural Decision Records)
- Включает ссылки на задачи разработки
- Версионируется при значительных изменениях

### 2. **project-development.json** - Планирование разработки
**Назначение:** Файл планирования разработки в виде иерархической структуры задач с возможностью сворачивания ветвей.

**Содержание:**
- Метаданные разработки
- Иерархическая структура задач
- Система нумерации с буквами
- Зависимости между задачами
- Ссылки на элементы проектной документации
- Ссылки на записи дневника разработки
- Вехи и ресурсы

**Правила ведения:**
- Задачи имеют бесконечную вложенность
- Используется расширенная система нумерации (01-99, 0a-0z, 1a-1z, ..., a0-zz)
- Каждая задача ссылается на элементы project-docs.json
- Обновляется при изменении планов разработки
- Содержит ссылки на записи project-journal.json

### 3. **project-journal.json** - Дневник разработки
**Назначение:** Дневник разработки с детальным описанием выполненных работ, изменений и состояний.

**Содержание:**
- Метаданные дневника
- Записи о выполненных работах
- Исходное и итоговое состояние объектов
- Ссылки на задачи разработки
- Ссылки на элементы проектной документации
- Временные метки и контекст

**Правила ведения:**
- Создается запись для каждого значимого изменения
- Содержит детальное описание изменений
- Включает ссылки на задачи и элементы проекта
- Ведется в хронологическом порядке
- Содержит метаданные о времени, сложности, тегах
- **Структура:** Использует иерархическую структуру с уровнями `chat-attributes` и `log-attributes`
- **Навигация:** Каждый чат и лог имеет `displayName` для удобной навигации
- **Группировка:** Простые свойства группируются в `*-attributes`, сложные объекты в `entries`

## Система нумерации задач

### Расширенная система нумерации
- **01-99** - цифровые задачи
- **0a-0z** - буквенные задачи (первая цифра 0)
- **1a-1z** - буквенные задачи (первая цифра 1)
- **...**
- **9a-9z** - буквенные задачи (первая цифра 9)
- **a0-a9** - буквенные задачи (первая буква a)
- **aa-az** - буквенные задачи (первая буква a)
- **b0-b9** - буквенные задачи (первая буква b)
- **ba-bz** - буквенные задачи (первая буква b)
- **...**
- **z0-z9** - буквенные задачи (первая буква z)
- **za-zz** - буквенные задачи (первая буква z)

### Емкость системы
- **Цифры:** 01-99 = 99 задач
- **Буквы после цифр:** 0a-0z, 1a-1z, ..., 9a-9z = 10 × 26 = 260 задач
- **Буквы перед цифрами:** a0-a9, b0-b9, ..., z0-z9 = 26 × 10 = 260 задач
- **Буквы перед буквами:** aa-az, ba-bz, ..., za-zz = 26 × 26 = 676 задач
- **Итого:** 99 + 260 + 260 + 676 = **1,295 задач на уровень**

### Примеры нумерации
```
01 - Backend разработка
├── 01.01 - Spring Boot настройка
│   ├── 01.01.01 - Maven конфигурация
│   │   ├── 01.01.01.01 - Базовые зависимости
│   │   ├── 01.01.01.02 - Плагины Maven
│   │   ├── 01.01.01.0a - Дополнительные плагины
│   │   └── 01.01.01.0b - Профили сборки
│   └── 01.01.02 - Основной класс приложения
└── 01.02 - База данных

0a - Документация
├── 0a.01 - ADR документация
└── 0a.0a - Техническая документация

a0 - DevOps
└── a0.01 - CI/CD настройка

aa - Безопасность
└── aa.01 - Аутентификация
```

## Связи между файлами

### 1. **project-docs.json** → **project-development.json**
```json
{
  "project": {
    "architecture": {
      "backend": {
        "framework": "Spring Boot 3.4.5",
        "framework_development": ["01.01", "01.01.01"],
        "framework_status": "in-development"
      }
    }
  }
}
```

### 2. **project-development.json** → **project-journal.json**
```json
{
  "tasks": [
    {
      "id": "01.01.01.01",
      "developmentLogs": [
        "log-2025-01-02-001",
        "log-2025-01-03-001"
      ]
    }
  ]
}
```

### 3. **project-journal.json** → **project-docs.json**
```json
{
  "entries": [
    {
      "id": "log-2025-01-02-001",
      "projectElement": "project.architecture.backend.framework"
    }
  ]
}
```

## Правила обновления

### Обязательные требования
- **Перед любыми корректировками документации** - обязательно изучить и учесть правила ведения документации
- **Перед созданием записей в журнале** - обязательно запросить имя чата у пользователя с предложением вариантов
- **При изменении структуры** - обновить соответствующие правила и связанные файлы

### Обновление project-docs.json
- При изменении архитектуры
- При добавлении новых модулей
- При изменении технологического стека
- При обновлении конфигурации развертывания
- При изменении временных рамок

### Обновление project-development.json
- При планировании новых задач
- При изменении приоритетов
- При добавлении зависимостей
- При изменении временных рамок
- При пересмотре планов разработки

### Обновление project-journal.json
- **Перед созданием записей** - обязательно запросить имя чата у пользователя с предложением вариантов
- **Структура чатов** - каждый чат должен отображаться одной строкой с возможностью развертывания
- **Навигация** - обеспечить возможность навигации по чатам журнала
- **Иерархическая структура** - использовать уровни `chat-attributes` и `log-attributes` для группировки простых свойств
- **Объектная структура** - `chat` и `log` должны быть объектами с полями `displayName` и `entries`
- После выполнения каждой задачи
- При изменении состояния объектов
- При создании новых артефактов
- При решении проблем
- При изменении подходов

## Стандарты ведения

### Формат дат
- **ISO 8601:** YYYY-MM-DDTHH:mm:ssZ
- **Пример:** 2025-01-02T10:30:00Z

### Формат ID
- **Задачи:** 01.01.01.01 (иерархическая нумерация)
- **Записи дневника:** log-YYYY-MM-DD-NNN
- **Элементы проекта:** project.architecture.backend.framework

### Статусы задач
- **pending** - запланировано
- **in-progress** - в работе
- **completed** - завершено
- **blocked** - заблокировано
- **cancelled** - отменено

### Приоритеты
- **critical** - критический
- **high** - высокий
- **medium** - средний
- **low** - низкий

## Структура project-journal.json

### Иерархическая структура
```json
{
  "journal": {
    "metadata": {
      "version": "1.0.0",
      "created": "2025-10-05",
      "lastUpdated": "2025-10-05",
      "totalEntries": 3,
      "documentationRules": "docs/project-documentation-rules.md"
    },
    "chats": [
      {
        "chat": {
          "displayName": "📋 Название чата (количество записей, дата)",
          "chat-attributes": {
            "id": "chat-001",
            "name": "Название чата",
            "description": "Описание чата",
            "startDate": "2025-10-05T09:00:00Z",
            "endDate": "2025-10-05T15:00:00Z",
            "participants": ["Александр"],
            "totalEntries": 3,
            "status": "completed",
            "summary": "Краткое описание результатов чата"
          },
          "entries": {
            "logs": [
              {
                "log": {
                  "displayName": "🔧 Название записи (время)",
                  "log-attributes": {
                    "id": "log-2025-10-05-001",
                    "name": "Название записи",
                    "timestamp": "2025-10-05T10:30:00Z",
                    "chat": "chat-001",
                    "task": "01.01.01.01",
                    "projectElement": "project.architecture.backend.framework",
                    "action": "created",
                    "description": "Описание выполненного действия",
                    "notes": "Дополнительные заметки",
                    "timeSpent": "2 hours",
                    "difficulty": "medium",
                    "tags": ["backend", "spring-boot"]
                  },
                  "entries": {
                    "initialState": {...},
                    "finalState": {...},
                    "artifacts": ["file1.md", "file2.json"]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}
```

### Принципы структуры
- **displayName** - для навигации и свертывания (с эмодзи и краткой информацией)
- **chat-attributes** - простые свойства чата (метаданные)
- **log-attributes** - простые свойства записи (метаданные)
- **entries** - сложные объекты (initialState, finalState, artifacts)

## Инструменты и автоматизация

### Рекомендуемые инструменты
- **JSON Editor** - для редактирования JSON файлов
- **Git** - для версионирования изменений
- **Markdown Editor** - для ADR документации
- **Task Tracker** - для отслеживания прогресса

### Автоматизация
- **Валидация JSON** - проверка корректности структуры
- **Синхронизация ссылок** - проверка целостности связей
- **Генерация отчетов** - автоматическое создание отчетов
- **Уведомления** - оповещения об изменениях

## Контроль качества

### Проверки
- **Структурная целостность** - корректность JSON структуры
- **Ссылочная целостность** - существование всех ссылок
- **Временная согласованность** - логичность временных рамок
- **Зависимостная целостность** - корректность зависимостей

### Ревизии
- **Еженедельные** - проверка актуальности документации
- **Ежемесячные** - анализ полноты и качества
- **Квартальные** - пересмотр структуры и правил
- **По требованию** - при значительных изменениях

## Резервное копирование

### Стратегия бэкапов
- **Ежедневные** - автоматические бэкапы в Git
- **Еженедельные** - полные копии файлов
- **Перед изменениями** - создание снимков состояния
- **Внешние** - копирование в облачные хранилища

### Восстановление
- **Из Git** - восстановление из истории версий
- **Из бэкапов** - восстановление из резервных копий
- **Частичное** - восстановление отдельных разделов
- **Полное** - восстановление всей документации

## Заключение

Данная система документации обеспечивает:
- **Полноту** - охват всех аспектов проекта
- **Структурированность** - четкая организация информации
- **Трассируемость** - возможность отслеживания изменений
- **Масштабируемость** - возможность расширения системы
- **Удобство использования** - простота навигации и поиска

Соблюдение данных правил гарантирует качество и актуальность проектной документации на всех этапах разработки проекта FEPRO.

---

**Документ утвержден:** 2025-10-05  
**Следующий пересмотр:** 2026-01-05  
**Ответственный:** Александр